/* anim8js-scrollmagic 1.0.4 - anim8 ScrollMagic by Philip Diffenderfer */
!function(t,n){"function"==typeof define&&define.amd?define(["anim8js","scrollmagic"],function(i,e){return n(i,e,t)}):"object"==typeof module&&module.exports?module.exports=n(require("anim8js"),require("scrollmagic"),global):n(t.anim8,t.ScrollMagic,t)}(this,function(t,n,i){function e(){}function r(t){this.init(t)}function s(t){return function(){this.stop().restore(),t.apply(this,arguments),this.preupdate(0).update(0).apply().stop()}}function a(t){return function(){this.stop().restore(),t.apply(this,arguments),this.preupdate(0).update(0).end().apply()}}function o(t){return function(){t.apply(this,arguments),this.pause().apply(this.time,!0)}}function u(){return function(){this.end(!0,!0)}}function c(t){this.init(t)}var l=t.anim8s,h=t.Class,f=t.AttrimatorMap,p=(t.animation,n.Scene.prototype),m={BEFORE:"BEFORE",DURING:"DURING",AFTER:"AFTER",ANY:"*",INITIAL:""};return p.setBackwards=function(t){return this.backwards=t,this},p.getAfter=function(){return this.backwards?m.BEFORE:m.AFTER},p.getBefore=function(){return this.backwards?m.AFTER:m.BEFORE},p.isEventMatch=function(t,n){switch(n){case m.ANY:return!0;case m.BEFORE:return t===this.getBefore();case m.AFTER:return t===this.getAfter();default:return t===n}},p.onProgress=function(n){var i=this.getInvokeCallback(n);return this.on("progress.anim8js",i),t.requestRun(i),this},p.onStart=function(n){var i=this.getInvokeCallback(n);return t.requestRun(i),this},p.getInvokeCallback=function(t){var n=this;return function(){var i=n.state(),e=n.progress();n.backwards&&(e=1-e),t.call(n,i,e)}},p.transition=function(t,n,i,e){var s=new r(i),a=m.INITIAL,o=t===m.INITIAL?"onStart":"onProgress";return this[o](function(i,r){a!==i&&(e&&e.call(this,i,a,r,s),this.isEventMatch(a,t)&&this.isEventMatch(i,n)&&s.execute(i,r),a=i)})},p.after=function(t){return this.transition(m.ANY,m.AFTER,t)},p.fromAfter=function(t){return this.transition(m.AFTER,m.ANY,t)},p.before=function(t){return this.transition(m.ANY,m.BEFORE,t)},p.fromBefore=function(t){return this.transition(m.BEFORE,m.ANY,t)},p.enter=function(t){return this.transition(m.ANY,m.DURING,t)},p.exit=function(t){return this.transition(m.DURING,m.ANY,t)},p.any=function(t){return this.transition(m.ANY,m.ANY,t)},p.start=function(t){return this.transition(m.INITIAL,m.ANY,t)},p.startBefore=function(t){return this.transition(m.INITIAL,m.BEFORE,t)},p.startAfter=function(t){return this.transition(m.INITIAL,m.AFTER,t)},p.startDuring=function(t){return this.transition(m.INITIAL,m.DURING,t)},p.intro=function(t){var n=function(t,n,i,e){(n===m.INITIAL&&t===this.getBefore()||t===m.DURING)&&e.executeInitials(t,i)};return this.transition(m.ANY,m.DURING,t,n)},p.outro=function(t){var n=function(t,n,i,e){n===m.INITIAL&&t===this.getAfter()&&e.executeFinals(t,i)};return this.transition(m.DURING,m.ANY,t,n)},p.during=function(t){var n=new c(t),i=0;return this.onProgress(function(t,e){n.execute(e,i),i++})},p.REGEX_SPLIT=/\s+/g,p.REGEX_TRANSITION=/(|DURING|AFTER|\*)>(|DURING|AFTER|\*)/i,p.listen=function(t,n){t.split&&(t=t.split(this.REGEX_SPLIT));for(var i=0;i<t.length;i++){var e=t[i];if(e in this)this[e](n);else{var r=this.REGEX_TRANSITION.exec(e.toUpperCase());r&&this.transition(r[1],r[2],n)}}return this},p.animate=function(n,i,e,r,s,a,o,u){var c=Array.prototype.slice.call(arguments),n=c.shift(),l=function(){var n=c.shift(),i=t.coalesce(this.arguments[n],1),e=c.splice(0,i);if(!this.callless[n]){var r=c.shift();e.push(function(){this[r].apply(this,c)})}this[n].apply(this,e)};return this[n](l)},n.getAnimator=function(i){var e=n._util.get.elements(i);return 0===e.length?(t.log&&t.log("could not create animator for ",i),null):t(e[0])},n.getAnimators=function(i){var e=n._util.get.elements(i);return 0===e.length?(t.log&&t.log("could not create animators for ",i),null):l(e)},h.define(e,{callless:{},arguments:{callWith:1},init:function(t){this.calls=[],this.initials=[],this.finals=[],t.call(this,this)},execute:function(){this.executeList(this.calls,arguments)},executeInitials:function(){this.executeList(this.initials,arguments)},executeFinals:function(){this.executeList(this.finals,arguments)},executeList:function(t,n){for(var i=0;i<t.length;i++)t[i].apply(this,n)},call:function(t){return this.calls.push(t),this},initial:function(t){return this.initials.push(t),this},"final":function(t){return this.finals.push(t),this},callWith:function(t,n,i,e){return t&&(this.call(function(){n.apply(t,arguments)}),i&&this.initial(function(){i.apply(t,arguments)}),e&&this["final"](function(){e.apply(t,arguments)})),this}}),h.extend(r,e,{animator:function(t,i){return this.callWith(n.getAnimator(t),i,s(i),a(i))},animators:function(t,i){return this.callWith(n.getAnimators(t),i,s(i),a(i))},player:function(t,n){return this.callWith(t,n,o(n),u())},movie:function(n,i){return this.player(new t.MoviePlayer(n),i)}}),h.extend(c,e,{callless:{player:!0,movie:!0},arguments:{callWith:1,animator:1,animators:1,player:3,movie:3},addProgressAnimator:function(t){var n=t.attrimators,i=n.values,e=n.keys,r=n.timeRemaining();t.attrimators=new f,this.call(function(n,s){var a=n*r;0===s&&t.preupdate(a);for(var o=0;o<i.length;o++){var u=i[o],c=e[o],l=u.valueAtSearch(a,t.frame[c]);if(l===!1){for(var h=u,f=a;h.next;)f-=h.totalTime(),h=h.next;l=h.valueAt(f,t.frame[c])}l!==!1&&(t.updated[c]=!0,t.frame[c]=l)}t.apply()})},animator:function(t,i){var e=n.getAnimator(t);return e&&(i.call(e),this.addProgressAnimator(e)),this},animators:function(t,i){var e=n.getAnimators(t);return e&&(i.call(e),e.each(this.addProgressAnimator,this)),this},player:function(n,i,e){var r=t.coalesce(e,0),s=t.coalesce(i,n.movie.duration());return this.call(function(t){n.apply(t*s+r,!0)})},movie:function(n,i,e){return this.player(new t.MoviePlayer(n),i,e)}}),t});
//# sourceMappingURL=anim8js-scrollmagic.min.js.map
