/* anim8js-scrollmagic 1.0.2 - anim8 ScrollMagic by Philip Diffenderfer */
!function(t,n){"function"==typeof define&&define.amd?define(["anim8","scrollmagic"],function(i,r){return n(i,r,t)}):"object"==typeof module&&module.exports?module.exports=n(require("anim8"),require("scrollmagic"),global):n(t.anim8,t.ScrollMagic,t)}(this,function(t,n,i){function r(){}function e(t){this.init(t)}function a(t){this.init(t)}var s=t.anim8s,o=t.Class,u=t.AttrimatorMap,c=(t.animation,n.Scene.prototype),l={BEFORE:"BEFORE",DURING:"DURING",AFTER:"AFTER",ANY:"*",INITIAL:""};return c.setBackwards=function(t){return this.backwards=t,this},c.getAfter=function(){return this.backwards?l.BEFORE:l.AFTER},c.getBefore=function(){return this.backwards?l.AFTER:l.BEFORE},c.isEventMatch=function(t,n){switch(n){case l.ANY:return!0;case l.BEFORE:return t===this.getBefore();case l.AFTER:return t===this.getAfter();default:return t===n}},c.onProgress=function(n){var i=this.getInvokeCallback(n);return this.on("progress.anim8js",i),t.requestRun(i),this},c.onStart=function(n){var i=this.getInvokeCallback(n);return t.requestRun(i),this},c.getInvokeCallback=function(t){var n=this;return function(){var i=n.state(),r=n.progress();n.backwards&&(r=1-r),t.call(n,i,r)}},c.transition=function(t,n,i){var r=new e(i),a=l.INITIAL,s=t===l.INITIAL?"onStart":"onProgress";return this[s](function(i,e){a!==i&&(this.isEventMatch(a,t)&&this.isEventMatch(i,n)&&r.execute(i,e),a=i)})},c.after=function(t){return this.transition(l.ANY,l.AFTER,t)},c.fromAfter=function(t){return this.transition(l.AFTER,l.ANY,t)},c.before=function(t){return this.transition(l.ANY,l.BEFORE,t)},c.fromBefore=function(t){return this.transition(l.BEFORE,l.ANY,t)},c.enter=function(t){return this.transition(l.ANY,l.DURING,t)},c.exit=function(t){return this.transition(l.DURING,l.ANY,t)},c.any=function(t){return this.transition(l.ANY,l.ANY,t)},c.start=function(t){return this.transition(l.INITIAL,l.ANY,t)},c.startBefore=function(t){return this.transition(l.INITIAL,l.BEFORE,t)},c.startAfter=function(t){return this.transition(l.INITIAL,l.AFTER,t)},c.startDuring=function(t){return this.transition(l.INITIAL,l.DURING,t)},c.during=function(t){var n=new a(t),i=0;return this.onProgress(function(t,r){n.execute(r,i),i++})},c.REGEX_SPLIT=/\s+/g,c.REGEX_TRANSITION=/(|DURING|AFTER|\*)>(|DURING|AFTER|\*)/i,c.listen=function(t,n){t.split&&(t=t.split(this.REGEX_SPLIT));for(var i=0;i<t.length;i++){var r=t[i];if(r in this)this[r](n);else{var e=this.REGEX_TRANSITION.exec(r.toUpperCase());e&&this.transition(e[1],e[2],n)}}return this},c.animate=function(n,i,r,e,a,s,o,u){var c=Array.prototype.slice.call(arguments),n=c.shift(),l=function(){var n=c.shift(),i=t.coalesce(this.arguments[n],1),r=c.splice(0,i);if(!this.callless[n]){var e=c.shift();r.push(function(){this[e].apply(this,c)})}this[n].apply(this,r)};return this[n](l)},n.getAnimator=function(i){var r=n._util.get.elements(i);return 0===r.length?(t.log&&t.log("could not create animator for ",i),null):t(r[0])},n.getAnimators=function(i){var r=n._util.get.elements(i);return 0===r.length?(t.log&&t.log("could not create animators for ",i),null):s(r)},o.define(r,{callless:{},arguments:{callWith:1},init:function(t){this.calls=[],t.call(this,this)},execute:function(){for(var t=this.calls,n=0;n<t.length;n++)t[n].apply(this,arguments)},call:function(t){return this.calls.push(t),this},callWith:function(t,n){return t&&this.call(function(){n.apply(t,arguments)}),this}}),o.extend(e,r,{animator:function(t,i){return this.callWith(n.getAnimator(t),i)},animators:function(t,i){return this.callWith(n.getAnimators(t),i)},player:function(t,n){return this.callWith(t,n)},movie:function(n,i){return this.player(new t.MoviePlayer(n),i)}}),o.extend(a,r,{callless:{player:!0,movie:!0},arguments:{callWith:1,animator:1,animators:1,player:3,movie:3},addProgressAnimator:function(t){var n=t.attrimators,i=n.values,r=n.keys,e=n.timeRemaining();t.attrimators=new u,this.call(function(n,a){var s=n*e;0===a&&t.preupdate(s);for(var o=0;o<i.length;o++){var u=i[o],c=r[o],l=u.valueAtSearch(s,t.frame[c]);l!==!1&&(t.updated[c]=!0,t.frame[c]=l)}t.apply()})},animator:function(t,i){var r=n.getAnimator(t);return r&&(i.call(r),this.addProgressAnimator(r)),this},animators:function(t,i){var r=n.getAnimators(t);return r&&(i.call(r),r.each(this.addProgressAnimator,this)),this},player:function(n,i,r){var e=t.coalesce(r,0),a=t.coalesce(i,n.movie.duration());return this.call(function(t){n.apply(t*a+e,!0)})},movie:function(n,i,r){return this.player(new t.MoviePlayer(n),i,r)}}),t});
//# sourceMappingURL=anim8js-scrollmagic.min.js.map
