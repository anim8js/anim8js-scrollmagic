{"version":3,"sources":["anim8js-scrollmagic.min.js"],"names":["root","factory","define","amd","anim8","ScrollMagic","module","exports","require","global","this","window","CallBuilder","CallEventBuilder","getCalls","init","createAnimatorInitial","stop","restore","apply","arguments","preupdate","update","createAnimatorFinal","end","createMovieInitial","pause","time","createMovieFinal","CallDuringBuilder","anim8s","Class","AttrimatorMap","Scene","animation","prototype","Events","BEFORE","DURING","AFTER","ANY","INITIAL","setBackwards","backwards","getAfter","getBefore","isEventMatch","actual","expected","onProgress","callback","invokeCallback","getInvokeCallback","on","requestRun","onStart","instance","state","progress","call","transition","expectedPrevious","expectedCurrent","onStateChange","builder","previous","listener","current","execute","after","fromAfter","before","fromBefore","enter","exit","any","start","startBefore","startAfter","startDuring","intro","executeInitials","outro","executeFinals","during","callCount","REGEX_SPLIT","REGEX_TRANSITION","listen","events","split","i","length","eventMethod","matches","exec","toUpperCase","animate","type","target","subject","method","a1","a2","a3","a4","args","Array","slice","shift","targetArgCount","coalesce","targetArgs","splice","callless","push","getAnimator","query","elements","_util","get","log","getAnimators","callWith","calls","initials","finals","executeList","list","initial","final","context","getInitial","getFinal","extend","animator","animators","player","movie","MoviePlayer","addProgressAnimator","attrimatorMap","attrimators","values","properties","keys","duration","timeRemaining","now","attrimator","prop","value","valueAtSearch","frame","last","lastTime","next","totalTime","valueAt","updated","each","overrideDuration","overrideOffset","offset"],"mappings":"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","file":"anim8js-scrollmagic.min.js","sourcesContent":["/* anim8js-scrollmagic 1.0.4 - anim8 ScrollMagic by Philip Diffenderfer */\n// UMD (Universal Module Definition)\n(function (root, factory)\n{\n  if (typeof define === 'function' && define.amd) // jshint ignore:line\n  {\n    // AMD. Register as an anonymous module.\n    define(['anim8js', 'scrollmagic'], function(anim8, ScrollMagic) { // jshint ignore:line\n      return factory(anim8, ScrollMagic, root);\n    });\n  }\n  else if (typeof module === 'object' && module.exports)  // jshint ignore:line\n  {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory(require('anim8js'), require('scrollmagic'), global);  // jshint ignore:line\n  }\n  else\n  {\n    // Browser globals (root is window)\n    factory(root.anim8, root.ScrollMagic, root);\n  }\n}(this, function(anim8, ScrollMagic, window)\n{\n\n  var anim8s = anim8.anim8s;\n  var Class = anim8.Class;\n  var AttrimatorMap = anim8.AttrimatorMap;\n\n  var $animation = anim8.animation;\n\n  var Scene = ScrollMagic.Scene.prototype;\n\n\nvar Events = {\n  BEFORE: 'BEFORE',\n  DURING: 'DURING',\n  AFTER: 'AFTER',\n  ANY: '*',\n  INITIAL: ''\n};\n\nScene.setBackwards = function(backwards)\n{\n  this.backwards = backwards;\n\n  return this;\n};\n\nScene.getAfter = function()\n{\n  return this.backwards ? Events.BEFORE : Events.AFTER;\n};\n\nScene.getBefore = function()\n{\n  return this.backwards ? Events.AFTER : Events.BEFORE;\n};\n\nScene.isEventMatch = function(actual, expected)\n{\n  switch (expected)\n  {\n    case Events.ANY:\n      return true;\n    case Events.BEFORE:\n      return actual === this.getBefore();\n    case Events.AFTER:\n      return actual === this.getAfter();\n    default:\n      return actual === expected;\n  }\n};\n\nScene.onProgress = function(callback)\n{\n  var invokeCallback = this.getInvokeCallback( callback );\n\n  this.on( 'progress.anim8js', invokeCallback );\n\n  anim8.requestRun( invokeCallback );\n\n  return this;\n};\n\nScene.onStart = function(callback)\n{\n  var invokeCallback = this.getInvokeCallback( callback );\n\n  anim8.requestRun( invokeCallback );\n\n  return this;\n};\n\nScene.getInvokeCallback = function(callback)\n{\n  var instance = this;\n\n  return function()\n  {\n    var state = instance.state();\n    var progress = instance.progress();\n\n    if (instance.backwards)\n    {\n      progress = 1.0 - progress;\n    }\n\n    callback.call( instance, state, progress );\n  };\n};\n\n\n// .transition('*', 'DURING')     \"enter\"\n// .transition('*', 'AFTER')     \"enter\"\n// .transition(null, 'DURING')    \"start on during\"\n// .transition('AFTER', 'DURING') \"enter from after\"\nScene.transition = function(expectedPrevious, expectedCurrent, getCalls, onStateChange)\n{\n  var builder = new CallEventBuilder(getCalls);\n  var previous = Events.INITIAL;\n  var listener = expectedPrevious === Events.INITIAL ? 'onStart' : 'onProgress';\n\n  return this[ listener ](function(current, progress)\n  {\n    if (previous !== current)\n    {\n      if (onStateChange)\n      {\n        onStateChange.call( this, current, previous, progress, builder );\n      }\n\n      if (this.isEventMatch( previous, expectedPrevious ) &&\n          this.isEventMatch( current, expectedCurrent ))\n      {\n        builder.execute( current, progress );\n      }\n\n      previous = current;\n    }\n  });\n};\n\nScene.after = function(getCalls)\n{\n  return this.transition( Events.ANY, Events.AFTER, getCalls );\n};\n\nScene.fromAfter = function(getCalls)\n{\n  return this.transition( Events.AFTER, Events.ANY, getCalls );\n};\n\nScene.before = function(getCalls)\n{\n  return this.transition( Events.ANY, Events.BEFORE, getCalls );\n};\n\nScene.fromBefore = function(getCalls)\n{\n  return this.transition( Events.BEFORE, Events.ANY, getCalls );\n};\n\nScene.enter = function(getCalls)\n{\n  return this.transition( Events.ANY, Events.DURING, getCalls );\n};\n\nScene.exit = function(getCalls)\n{\n  return this.transition( Events.DURING, Events.ANY, getCalls );\n};\n\nScene.any = function(getCalls)\n{\n  return this.transition( Events.ANY, Events.ANY, getCalls );\n};\n\nScene.start = function(getCalls)\n{\n  return this.transition( Events.INITIAL, Events.ANY, getCalls );\n};\n\nScene.startBefore = function(getCalls)\n{\n  return this.transition( Events.INITIAL, Events.BEFORE, getCalls );\n};\n\nScene.startAfter = function(getCalls)\n{\n  return this.transition( Events.INITIAL, Events.AFTER, getCalls );\n};\n\nScene.startDuring = function(getCalls)\n{\n  return this.transition( Events.INITIAL, Events.DURING, getCalls );\n};\n\n// Special Enter / Exit Events\nScene.intro = function(getCalls)\n{\n  var onStateChange = function(current, previous, progress, builder)\n  {\n    if ((previous === Events.INITIAL && current === this.getBefore()) || current === Events.DURING)\n    {\n      builder.executeInitials( current, progress );\n    }\n  };\n\n  return this.transition( Events.ANY, Events.DURING, getCalls, onStateChange );\n};\n\nScene.outro = function(getCalls)\n{\n  var onStateChange = function(current, previous, progress, builder)\n  {\n    if (previous === Events.INITIAL && current === this.getAfter())\n    {\n      builder.executeFinals( current, progress );\n    }\n  };\n\n  return this.transition( Events.DURING, Events.ANY, getCalls, onStateChange );\n};\n\n// Special During Event\nScene.during = function(getCalls)\n{\n  var builder = new CallDuringBuilder(getCalls);\n  var callCount = 0;\n\n  return this.onProgress(function(state, progress)\n  {\n    builder.execute( progress, callCount );\n    callCount++;\n  });\n};\n\n// Multiple Events\nScene.REGEX_SPLIT = /\\s+/g;\nScene.REGEX_TRANSITION = /(|DURING|AFTER|\\*)>(|DURING|AFTER|\\*)/i;\n\nScene.listen = function(events, getCalls)\n{\n  if (events.split)\n  {\n    events = events.split( this.REGEX_SPLIT );\n  }\n\n  for (var i = 0; i < events.length; i++)\n  {\n    var eventMethod = events[ i ];\n\n    if (eventMethod in this)\n    {\n      this[ eventMethod ]( getCalls );\n    }\n    else\n    {\n      var matches = this.REGEX_TRANSITION.exec( eventMethod.toUpperCase() );\n\n      if (matches)\n      {\n        this.transition( matches[1], matches[2], getCalls );\n      }\n    }\n  }\n\n  return this;\n};\n\n\nScene.animate = function(type, target, subject, method, a1, a2, a3, a4)\n{\n  var args = Array.prototype.slice.call( arguments );\n  var type = args.shift();\n\n  var getCalls = function() {\n    var target = args.shift();\n    var targetArgCount = anim8.coalesce( this.arguments[ target ], 1 );\n    var targetArgs = args.splice( 0, targetArgCount );\n\n    if (!this.callless[ target ]) {\n      var method = args.shift();\n      targetArgs.push(function() {\n        this[ method ].apply( this, args );\n      });\n    }\n\n    this[ target ].apply( this, targetArgs );\n  };\n\n  return this[ type ]( getCalls );\n};\n\n\nScrollMagic.getAnimator = function(query)\n{\n  var elements = ScrollMagic._util.get.elements( query );\n\n  if (elements.length === 0)\n  {\n    if (anim8.log)\n    {\n      anim8.log('could not create animator for ', query);\n    }\n\n    return null;\n  }\n\n  return anim8( elements[ 0 ] );\n};\n\nScrollMagic.getAnimators = function(query)\n{\n  var elements = ScrollMagic._util.get.elements( query );\n\n  if (elements.length === 0)\n  {\n    if (anim8.log)\n    {\n      anim8.log('could not create animators for ', query);\n    }\n\n    return null;\n  }\n\n  return anim8s( elements );\n};\n\n\nfunction CallBuilder()\n{\n}\n\nClass.define( CallBuilder,\n{\n  callless: {},\n  arguments: {\n    callWith: 1\n  },\n  init: function(getCalls)\n  {\n    this.calls = [];\n    this.initials = [];\n    this.finals = [];\n\n    getCalls.call( this, this );\n  },\n  execute: function()\n  {\n    this.executeList( this.calls, arguments );\n  },\n  executeInitials: function()\n  {\n    this.executeList( this.initials, arguments );\n  },\n  executeFinals: function()\n  {\n    this.executeList( this.finals, arguments );\n  },\n  executeList: function(list, args)\n  {\n    for (var i = 0; i < list.length; i++)\n    {\n      list[ i ].apply( this, args );\n    }\n  },\n  call: function(callback)\n  {\n    this.calls.push( callback );\n\n    return this;\n  },\n  initial: function(callback)\n  {\n    this.initials.push( callback );\n\n    return this;\n  },\n  final: function(callback)\n  {\n    this.finals.push( callback );\n\n    return this;\n  },\n  callWith: function(context, getCalls, getInitial, getFinal)\n  {\n    if (context)\n    {\n      this.call(function()\n      {\n        getCalls.apply( context, arguments );\n      });\n\n      if (getInitial)\n      {\n        this.initial(function()\n        {\n          getInitial.apply( context, arguments );\n        });\n      }\n\n      if (getFinal)\n      {\n        this.final(function()\n        {\n          getFinal.apply( context, arguments );\n        });\n      }\n    }\n\n    return this;\n  }\n});\n\n\nfunction CallEventBuilder(getCalls)\n{\n  this.init( getCalls );\n}\n\nClass.extend( CallEventBuilder, CallBuilder,\n{\n  animator: function(query, getCalls)\n  {\n    return this.callWith( ScrollMagic.getAnimator( query ), getCalls, createAnimatorInitial( getCalls ), createAnimatorFinal( getCalls ) );\n  },\n  animators: function(query, getCalls)\n  {\n    return this.callWith( ScrollMagic.getAnimators( query ), getCalls, createAnimatorInitial( getCalls ), createAnimatorFinal( getCalls ) );\n  },\n  player: function(player, getCalls)\n  {\n    return this.callWith( player, getCalls, createMovieInitial( getCalls ), createMovieFinal() );\n  },\n  movie: function(movie, getCalls)\n  {\n    return this.player( new anim8.MoviePlayer( movie ), getCalls );\n  }\n});\n\n\nfunction createAnimatorInitial(getCalls)\n{\n  return function()\n  {\n    this.stop().restore();\n    getCalls.apply( this, arguments );\n    this.preupdate( 0 ).update( 0 ).apply().stop();\n  };\n}\n\nfunction createAnimatorFinal(getCalls)\n{\n  return function()\n  {\n    this.stop().restore();\n    getCalls.apply( this, arguments );\n    this.preupdate( 0 ).update( 0 ).end().apply();\n  };\n}\n\nfunction createMovieInitial(getCalls)\n{\n  return function()\n  {\n    getCalls.apply( this, arguments );\n\n    this.pause().apply( this.time, true );\n  };\n}\n\nfunction createMovieFinal()\n{\n  return function()\n  {\n    this.end( true, true );\n  };\n}\n\n\nfunction CallDuringBuilder(getCalls)\n{\n  this.init( getCalls );\n}\n\nClass.extend( CallDuringBuilder, CallBuilder,\n{\n  callless: {\n    player: true,\n    movie: true\n  },\n  arguments: {\n    callWith: 1,\n    animator: 1,\n    animators: 1,\n    player: 3,\n    movie: 3\n  },\n  addProgressAnimator: function(animator)\n  {\n    var attrimatorMap = animator.attrimators;\n    var attrimators = attrimatorMap.values;\n    var properties = attrimatorMap.keys;\n    var duration = attrimatorMap.timeRemaining();\n\n    animator.attrimators = new AttrimatorMap();\n\n    this.call(function(progress, callCount)\n    {\n      var now = progress * duration;\n\n      if (callCount === 0) {\n        animator.preupdate( now );\n      }\n\n      for (var i = 0; i < attrimators.length; i++) {\n        var attrimator = attrimators[ i ];\n        var prop = properties[ i ];\n        var value = attrimator.valueAtSearch( now, animator.frame[ prop ] );\n        if (value === false) {\n          var last = attrimator;\n          var lastTime = now;\n          while (last.next) {\n            lastTime -= last.totalTime();\n            last = last.next;\n          }\n          value = last.valueAt( lastTime, animator.frame[ prop ] );\n        }\n        if (value !== false) {\n          animator.updated[ prop ] = true;\n          animator.frame[ prop ] = value;\n        }\n      }\n\n      animator.apply();\n    });\n  },\n  animator: function(query, getCalls)\n  {\n    var animator = ScrollMagic.getAnimator(query);\n\n    if (animator)\n    {\n      getCalls.call( animator );\n\n      this.addProgressAnimator( animator );\n    }\n\n    return this;\n  },\n  animators: function(query, getCalls)\n  {\n    var animators = ScrollMagic.getAnimators(query);\n\n    if (animators)\n    {\n      getCalls.call( animators );\n\n      animators.each( this.addProgressAnimator, this );\n    }\n\n    return this;\n  },\n  player: function(player, overrideDuration, overrideOffset)\n  {\n    var offset = anim8.coalesce( overrideOffset, 0 );\n    var duration = anim8.coalesce( overrideDuration, player.movie.duration() );\n\n    return this.call(function(progress)\n    {\n      player.apply( progress * duration + offset, true );\n    });\n  },\n  movie: function(movie, overrideDuration, overrideOffset)\n  {\n    return this.player( new anim8.MoviePlayer( movie ), overrideDuration, overrideOffset );\n  }\n});\n\n\n\n  return anim8;\n\n}));\n"],"sourceRoot":"/source/"}